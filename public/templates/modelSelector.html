<template id="model-selector-template">
  <div class="model-selector">
    <div class="mb-4">
      <div class="search-box mb-3" x-show="showSearch">
        <input 
          type="text" 
          class="form-input" 
          placeholder="Search models..."
          x-model="modelSearch"
        >
      </div>
      
      <div class="filter-buttons" x-show="showFilters">
        <button 
          class="btn btn-sm"
          :class="modelFilter === 'all' ? 'btn-primary' : 'btn-secondary'"
          @click="modelFilter = 'all'"
        >
          All
        </button>
        <button 
          class="btn btn-sm"
          :class="modelFilter === 'free' ? 'btn-primary' : 'btn-secondary'"
          @click="modelFilter = 'free'"
        >
          Free
        </button>
        <button 
          class="btn btn-sm"
          :class="modelFilter === 'fast' ? 'btn-primary' : 'btn-secondary'"
          @click="modelFilter = 'fast'"
        >
          Fast
        </button>
        <button 
          class="btn btn-sm"
          :class="modelFilter === 'multimodal' ? 'btn-primary' : 'btn-secondary'"
          @click="modelFilter = 'multimodal'"
        >
          Multimodal
        </button>
        <button 
          class="btn btn-sm"
          :class="modelFilter === 'large-context' ? 'btn-primary' : 'btn-secondary'"
          @click="modelFilter = 'large-context'"
        >
          Large Context
        </button>
      </div>
    </div>
    
    <div class="text-center py-8" x-show="isLoading">
      <div class="spinner"></div>
      <p class="text-muted mt-2">Loading models...</p>
    </div>
    
    <div class="models-grid" x-show="!isLoading">
      <template x-for="model in filteredModels" :key="model.id">
        <div 
          class="card-interactive"
          :class="selectedModel?.id === model.id ? 'selected' : ''"
          @click="selectModel(model)"
        >
          <div class="model-header">
            <h4 class="model-name" x-text="model.name"></h4>
            <span class="model-provider text-muted" x-text="getProviderName(model)"></span>
          </div>
          
          <div class="model-info">
            <div class="info-row">
              <span class="label">Context:</span>
              <span class="value" x-text="formatContext(model.context_length)"></span>
            </div>
            <div class="info-row">
              <span class="label">Price:</span>
              <span class="value" x-text="formatPrice(model.pricing)"></span>
            </div>
          </div>
          
          <div class="model-tags">
            <span class="tag tag-blue" x-show="!model.pricing || (model.pricing.prompt === 0 && model.pricing.completion === 0)">
              Free
            </span>
            <span class="tag tag-green" x-show="model.architecture?.modality === 'multimodal'">
              Multimodal
            </span>
            <span class="tag tag-purple" x-show="model.context_length >= 100000">
              Large Context
            </span>
          </div>
        </div>
      </template>
    </div>
    
    <div class="text-center py-8" x-show="!isLoading && filteredModels.length === 0">
      <p class="text-muted">No models found matching your criteria</p>
    </div>
    
  </div>
</template>