<div class="stack">
  
  <div class="flex justify-between items-center">
    <div>
      <h2 class="text-2xl font-semibold" x-text="$store.i18n.t('common.configurationManager')"></h2>
      <p class="text-gray-600 mt-s" x-text="$store.i18n.t('common.createAndManageConfigs')"></p>
    </div>
    <div class="flex gap-s">
      <button @click="createNewConfig()" class="btn btn-primary">
        ‚ûï <span x-text="$store.i18n.t('buttons.createNew')"></span>
      </button>
      <button @click="loadExample()" class="btn btn-secondary">
        üìÅ <span x-text="$store.i18n.t('buttons.loadExample')"></span>
      </button>
    </div>
  </div>
  
  
  <div x-show="isLoading" class="flex justify-center items-center py-l">
    <div class="spinner"></div>
  </div>
  
  
  <div x-show="!isLoading && configs.length > 0" class="grid-2">
    <template x-for="config in configs" :key="config.name">
      <div class="card-interactive">
        <div class="card-body">
          <div class="flex items-center gap-s">
            <div class="text-xl flex-shrink-0">‚öôÔ∏è</div>
            <div class="flex-1 min-w-0">
              <h4 class="font-medium text-sm break-words" x-text="config.name.replace('.json', '')"></h4>
              <div class="text-xs text-gray-600">
                <span x-text="(config.size / 1024).toFixed(1) + ' KB'"></span>
                <span class="mx-s">‚Ä¢</span>
                <span x-text="new Date(config.modified).toLocaleDateString()"></span>
              </div>
            </div>
            <div class="flex items-center gap-s flex-shrink-0">
              <button @click.stop="navigateToGenerate(config)" class="btn btn-primary btn-sm">
                üöÄ <span x-text="$store.i18n.t('buttons.generate')"></span>
              </button>
              <button @click.stop="editConfig(config)" class="btn btn-ghost btn-sm" title="Edit">
                ‚úèÔ∏è
              </button>
              <button @click.stop="deleteConfig(config)" class="btn btn-ghost btn-sm text-error" title="Delete">
                üóëÔ∏è
              </button>
            </div>
          </div>
        </div>
      </div>
    </template>
  </div>
  
  
  <div x-show="!isLoading && configs.length === 0" class="card">
    <div class="card-body empty-state">
      <div class="text-3xl mb-m">üìã</div>
      <h3 class="text-xl font-medium mb-s" x-text="$store.i18n.t('common.noConfigurationsYet')"></h3>
      <p class="text-gray-600 mb-m" x-text="$store.i18n.t('common.createFirstConfiguration')"></p>
      <button @click="createNewConfig()" class="btn btn-primary">
        <span x-text="$store.i18n.t('buttons.createConfiguration')"></span>
      </button>
    </div>
  </div>
  
  
  <div x-show="showCreateWizard" @click.self="showCreateWizard = false" 
       class="modal-backdrop">
    <div class="modal">
      <div class="modal-header">
        <h3 class="card-title" x-text="$store.i18n.t('common.createConfiguration')"></h3>
        <button @click="showCreateWizard = false" class="btn btn-ghost btn-sm">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="stack-s">
          <div>
            <label class="form-label" x-text="$store.i18n.t('forms.configurationName')"></label>
            <input type="text" x-model="editingConfig.name" 
                   class="form-input" :placeholder="$store.i18n.t('placeholders.configName')">
          </div>
          
          <div>
            <label class="form-label" x-text="$store.i18n.t('forms.description')"></label>
            <textarea x-model="editingConfig.content.meta.description" 
                      class="form-input" rows="2" 
                      :placeholder="$store.i18n.t('placeholders.description')"></textarea>
          </div>
          
          <div>
            <label class="form-label" x-text="$store.i18n.t('forms.initialTask')"></label>
            <input type="text" x-model="editingConfig.content.generation.tasks[0].theme" 
                   class="form-input" :placeholder="$store.i18n.t('placeholders.initialTask')">
          </div>
          
          <p class="meta-text">
            <span x-text="$store.i18n.t('common.configureMoreDetails')"></span>
          </p>
        </div>
      </div>
      <div class="modal-footer">
        <button @click="showCreateWizard = false" class="btn btn-secondary" x-text="$store.i18n.t('buttons.cancel')"></button>
        <button @click="saveConfig()" class="btn btn-primary" x-text="$store.i18n.t('common.createAndEdit')"></button>
      </div>
    </div>
  </div>
  
  
  <div x-show="showExampleModal" @click.away="showExampleModal = false" 
       class="modal-backdrop">
    <div class="modal max-w-3xl">
      <div class="card-header">
        <h3 class="card-title" x-text="$store.i18n.t('common.exampleConfigurations')"></h3>
      </div>
      <div class="card-body">
        <div class="grid-2">
          <template x-for="example in examples" :key="example.name">
            <div @click="selectExample(example)" class="card-interactive">
              <div class="card-body">
                <h4 class="font-medium mb-s" x-text="example.name"></h4>
                <p class="meta-text" x-text="example.content.meta?.description || 'No description'"></p>
              </div>
            </div>
          </template>
        </div>
        <button @click="showExampleModal = false" class="btn btn-secondary mt-m" x-text="$store.i18n.t('buttons.close')"></button>
      </div>
    </div>
  </div>
</div>